/**
 *  @fileOverview Grace
 */

/* need to use the CSL module to generate the CSL code */
var CSL = xdc.useModule('ti.mcu.msp430.csl.CSL');
var EUSCI_B0 = xdc.useModule('ti.mcu.msp430.csl2.communication.EUSCI_B0');
var ADC10_B = xdc.useModule('ti.mcu.msp430.csl2.adc.ADC10_B');
var REF = xdc.useModule('ti.mcu.msp430.csl2.ref.REF');
CSL.configApiVersion = "1.30.00";  /* 1.30 added the PinMux module */

/* these modules should be part of every project */
var CS = xdc.useModule('ti.mcu.msp430.csl2.clock.CS');
var WDT_A = xdc.useModule('ti.mcu.msp430.csl2.watchdog.WDT_A');
var System = xdc.useModule('ti.mcu.msp430.csl2.system.System');
var GPIO = xdc.useModule('ti.mcu.msp430.csl2.gpio.GPIO');
var PinMux = xdc.module('ti.mcu.msp430.csl2.pinmux.PinMux');
var InterruptVectors = xdc.useModule('ti.mcu.msp430.csl.interrupt_vectors.InterruptVectors');

/* set stack and heap sizes as appropriate for MSP430 */
Program.sysStack = 0;
Program.stack = 64;
Program.heap = 0;
Program.argSize = 0;

/* Enable global interrupt */
System.srRegs.SR.GIE = System.srDefs.GIE;
CS.clockMode = CS.baseDefs.ClockConfigMode;
CS.csMclkSrcDivider = CS.CS_CLOCK_DIVIDER_2;
CS.csSmclkSrcDivider = CS.CS_CLOCK_DIVIDER_4;
CSL.device.vcc = 3.6;
EUSCI_B0.eusciMode = EUSCI_B0.eusciBaseDefs.I2CMode;
EUSCI_B0.eusciI2C.eusciI2CBitRate = EUSCI_B0.eusciI2CDefs.eI2C_SET_DATA_RATE_400KBPS;
EUSCI_B0.eusciI2C.eusciI2CAddressMask = 255;
EUSCI_B0.eusciI2C.eusciI2CPin[0] = 1;
PinMux.assignedPins = "P1.0 ADC,P1.1 ADC,P1.6 EUSCI_B0_I2C,P1.7 EUSCI_B0_I2C";
PinMux.regs.p1sel1 = 195;
EUSCI_B0.eusciI2C.eusciI2CPin[1] = 1;
ADC10_B.adc10bMode = ADC10_B.PowerUserMode;
ADC10_B.adc10bCycleHoldTime = ADC10_B.ADC10B_CYCLEHOLD_8_CYCLES;
ADC10_B.adc10bVRefPositive = ADC10_B.ADC10B_VREFPOS_INT;
ADC10_B.adc10bChannelEnableIdx = 11;
REF.refMode = REF.baseDefs.REFBasicMode;
REF.refVoltage = REF.REF_VREF1_5V;
ADC10_B.adc10bExternalGPIOPin[0] = true;
PinMux.regs.p1sel0 = 3;
ADC10_B.adc10bExternalGPIOPin[1] = true;
ADC10_B.adc10bEnable = false;
ADC10_B.adc10bClockSource = ADC10_B.ADC10B_CLOCKSOURCE_ADC10OSC;
ADC10_B.adc10bChannelType = ADC10_B.ADC10B_SINGLE_CHANNEL;
REF.refEnableTempSensor = false;
REF.refEnable = true;
